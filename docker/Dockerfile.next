# https://github.com/vercel/next.js/blob/canary/examples/with-docker/Dockerfile.multistage

# Stage 1: Building the code
FROM mhart/alpine-node:14.16 

WORKDIR /mk

COPY package.json yarn.lock ./

RUN yarn install --frozen-lockfile

COPY . .

RUN yarn build


EXPOSE 3000

CMD ["node_modules/.bin/next", "start"]
